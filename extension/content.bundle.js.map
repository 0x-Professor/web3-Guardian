{"version":3,"file":"content.bundle.js","mappings":"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","sources":["webpack://web3-guardian/./extension/src/content/content.js"],"sourcesContent":["// Content script that runs in the context of web pages\n// Intercepts and analyzes Web3 transactions\n\nconsole.log('Web3 Guardian content script loaded');\n\n// Listen for messages from the background script\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n  if (request.type === 'ANALYZE_TRANSACTION') {\n    analyzeTransaction(request.data)\n      .then(result => sendResponse({ success: true, data: result }))\n      .catch(error => sendResponse({ success: false, error: error.message }));\n    return true; // Required for async response\n  }\n});\n\n// Detect and intercept Web3 transactions\nfunction setupWeb3Interception() {\n  // This is a simplified example - in a real implementation, you would need to\n  // hook into the page's Web3 provider to intercept transactions\n  \n  // Store original send method\n  const originalSend = window.ethereum?.sendAsync || window.ethereum?.send;\n  \n  if (!originalSend) {\n    console.log('No Web3 provider detected');\n    return;\n  }\n  \n  // Override send method\n  window.ethereum.sendAsync = function(method, params) {\n    console.log('Intercepted Web3 transaction:', { method, params });\n    \n    // Send transaction details to background script for analysis\n    return new Promise((resolve, reject) => {\n      chrome.runtime.sendMessage(\n        {\n          type: 'WEB3_TRANSACTION',\n          data: { method, params, origin: window.location.origin }\n        },\n        (response) => {\n          if (response && response.shouldProceed) {\n            // Proceed with original transaction\n            originalSend.call(window.ethereum, method, params)\n              .then(resolve)\n              .catch(reject);\n          } else {\n            // User rejected or error occurred\n            reject(new Error('Transaction was rejected by Web3 Guardian'));\n          }\n        }\n      );\n    });\n  };\n}\n\n// Analyze transaction details\nasync function analyzeTransaction(txData) {\n  try {\n    // Send to background script for analysis\n    const response = await new Promise((resolve) => {\n      chrome.runtime.sendMessage(\n        { type: 'ANALYZE_TRANSACTION', data: txData },\n        resolve\n      );\n    });\n    \n    return {\n      riskLevel: response.riskLevel || 'medium',\n      recommendations: response.recommendations || [],\n      gasEstimate: response.gasEstimate,\n      simulation: response.simulation\n    };\n  } catch (error) {\n    console.error('Error analyzing transaction:', error);\n    return {\n      riskLevel: 'unknown',\n      error: error.message\n    };\n  }\n}\n\n// Initialize interception when the page loads\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', setupWeb3Interception);\n} else {\n  setupWeb3Interception();\n}\n\n// Listen for Web3 injection\nconst observer = new MutationObserver((mutations) => {\n  if (window.ethereum) {\n    setupWeb3Interception();\n    observer.disconnect();\n  }\n});\n\nobserver.observe(document, { childList: true, subtree: true });\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","setupWeb3Interception","_window$ethereum","_window$ethereum2","originalSend","window","ethereum","sendAsync","send","method","params","console","log","reject","chrome","runtime","sendMessage","type","data","origin","location","response","shouldProceed","Error","_analyzeTransaction","_callee","txData","_t","_context","riskLevel","recommendations","gasEstimate","simulation","error","message","arguments","apply","_next","_throw","onMessage","addListener","request","sender","sendResponse","_x","analyzeTransaction","result","success","document","readyState","addEventListener","observer","MutationObserver","mutations","disconnect","observe","childList","subtree"],"sourceRoot":""}