/*! For license information please see content.bundle.js.LICENSE.txt */
(()=>{function e(){var t,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function c(e,o,i,a){var c=o&&o.prototype instanceof s?o:s,d=Object.create(c.prototype);return n(d,"_invoke",function(e,n,o){var i,a,c,s=0,d=o||[],f=!1,l={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,a=0,c=t,l.n=n,u}};function p(e,n){for(a=e,c=n,r=0;!f&&s&&!o&&r<d.length;r++){var o,i=d[r],p=l.p,m=i[2];e>3?(o=m===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=e<2&&p<i[1])?(a=0,l.v=n,l.n=i[1]):p<m&&(o=e<3||i[0]>n||n>m)&&(i[4]=e,i[5]=n,l.n=m,a=0))}if(o||e>1)return u;throw f=!0,n}return function(o,d,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===d&&p(d,m),a=d,c=m;(r=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(l.n=-1),p(a,c)):l.n=c:l.v=c);try{if(s=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((r=(f=l.n<0)?c:e.call(n,l))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:r,done:f}}}(e,i,a),!0),d}var u={};function s(){}function d(){}function f(){}r=Object.getPrototypeOf;var l=[][i]?r(r([][i]())):(n(r={},i,function(){return this}),r),p=f.prototype=s.prototype=Object.create(l);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=f,n(p,"constructor",f),n(f,"constructor",d),d.displayName="GeneratorFunction",n(f,a,"GeneratorFunction"),n(p),n(p,a,"Generator"),n(p,i,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:c,m}})()}function n(e,t,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}n=function(e,t,r,o){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?i?i(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,o)}function t(e,n,t,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(r,o)}function r(){var e,n,t=(null===(e=window.ethereum)||void 0===e?void 0:e.sendAsync)||(null===(n=window.ethereum)||void 0===n?void 0:n.send);t?window.ethereum.sendAsync=function(e,n){return console.log("Intercepted Web3 transaction:",{method:e,params:n}),new Promise(function(r,o){chrome.runtime.sendMessage({type:"WEB3_TRANSACTION",data:{method:e,params:n,origin:window.location.origin}},function(i){i&&i.shouldProceed?t.call(window.ethereum,e,n).then(r).catch(o):o(new Error("Transaction was rejected by Web3 Guardian"))})})}:console.log("No Web3 provider detected")}function o(){var n;return n=e().m(function n(t){var r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,new Promise(function(e){chrome.runtime.sendMessage({type:"ANALYZE_TRANSACTION",data:t},e)});case 1:return r=e.v,e.a(2,{riskLevel:r.riskLevel||"medium",recommendations:r.recommendations||[],gasEstimate:r.gasEstimate,simulation:r.simulation});case 2:return e.p=2,o=e.v,console.error("Error analyzing transaction:",o),e.a(2,{riskLevel:"unknown",error:o.message})}},n,null,[[0,2]])}),o=function(){var e=this,r=arguments;return new Promise(function(o,i){var a=n.apply(e,r);function c(e){t(a,o,i,c,u,"next",e)}function u(e){t(a,o,i,c,u,"throw",e)}c(void 0)})},o.apply(this,arguments)}console.log("Web3 Guardian content script loaded"),chrome.runtime.onMessage.addListener(function(e,n,t){if("ANALYZE_TRANSACTION"===e.type)return function(e){return o.apply(this,arguments)}(e.data).then(function(e){return t({success:!0,data:e})}).catch(function(e){return t({success:!1,error:e.message})}),!0}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r();var i=new MutationObserver(function(e){window.ethereum&&(r(),i.disconnect())});i.observe(document,{childList:!0,subtree:!0})})();
//# sourceMappingURL=content.bundle.js.map